<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"  
    		"http://ibatis.apache.org/dtd/sql-map-2.dtd">  
 <sqlMap namespace="UserSQL">
	  <statement id="createTable">
	   <!--id自增主键从0开始 -->  
		 <![CDATA[
		     create table test2(
		     id int UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT, 
		     name varchar(100)
		     )
		 ]]>
		 </statement>
		 <statement id="dropTable">
		 <![CDATA[ 
			 drop table test2
		 ]]>
		 </statement>
		 <insert id="insert" parameterClass="com.purang.ibatis.UserModel">
		 <![CDATA[
			 insert into test2(name) value(#name#)
		 ]]>
		 <selectKey resultClass="int" keyProperty="id" type="post">
			 <!-- 获取hsqldb插入的主键 -->  
      		 call identity();  
      		 <!-- mysql使用select last_insert_id();获取插入的主键 -->  
		 </selectKey>
		 </insert>
		 
		 <select id="countAll" resultClass="java.lang.Integer">  
		    <![CDATA[ select count(*) from test ]]>     
		</select> 
		
		 <update id="update" parameterClass="com.purang.ibatis.UserModel">  
		    <![CDATA[ select count(*) from test ]]>     
		</update> 
 </sqlMap>   		 